\ProvidesPackage{commons/packages/laatikot}

% tiivistelmälaatikot mdframed-paketilla

\usepackage[framemethod=TikZ]{mdframed}

\pgfdeclarehorizontalshading{laatikkotausta}{100bp}{color(0bp)=(white); color(25bp)=(white); color(75bp)=(vapaa_matikka_vari_3); color(100bp)=(vapaa_matikka_vari_3)}

\mdfdefinestyle{laatikkotyyli}{
% Värin pitää mennä vähintään 3 mm paperin reunan yli, jotta
% kirjapainolle jää leikkausvaraa
  usetwoside=false,
  leftmargin=-49mm,
  rightmargin=-25mm,
  innerleftmargin=49mm,
  innerrightmargin=25mm,
  innertopmargin=8pt,
  innerbottommargin=8pt,
  hidealllines=true,
  apptotikzsetting={\tikzset{mdfbackground/.append style = {shading = laatikkotausta}}},
  needspace=3\baselineskip,
}

\newcommand{\laatikko}[2][]{%
  \medskip
  \begin{mdframed}[style=laatikkotyyli]
  \ifthenelse{\equal{#1}{}}{#2}{\begin{Large}\textbf{#1}\end{Large}\\ #2}%
  \end{mdframed}
  \medskip
}
